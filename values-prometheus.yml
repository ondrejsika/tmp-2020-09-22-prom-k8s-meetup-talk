nameOverride: prom

# Disable Default Prometheus Rules
defaultRules:
  create: false

  # Disable self monitor
  serviceMonitor:
    selfMonitor: false

prometheus:
  ingress:
    enabled: true
    hosts:
      - prometheus.k8s.sikademo.com # --- PROMETHEUS DOMAIN ---
    paths:
      - /

  # Allow scrapping every ServiceMonitors in every namespace
  prometheusSpec:
    serviceMonitorSelectorNilUsesHelmValues: false
    podMonitorSelectorNilUsesHelmValues: false
    ruleSelectorNilUsesHelmValues: false

  # Disable self monitor
  serviceMonitor:
    selfMonitor: false

grafana:
  ingress:
    enabled: true
    annotations: {}
    hosts:
      - grafana.k8s.sikademo.com # --- GRAFANA DOMAIN ---
    paths:
      - /

  # Disable default dashboards
  defaultDashboardsEnabled: false

  # Disable self monitor
  serviceMonitor:
    selfMonitor: false

alertmanager:
  ingress:
    enabled: true
    annotations: {}
    hosts:
      - alertmanager.k8s.sikademo.com # --- ALERTMANAGER DOMAIN ---
    paths:
      - /

  # Disable self monitor
  serviceMonitor:
    selfMonitor: false

  # Example Alert Manager Config
  config:
    global:
      smtp_smarthost: maildev-smtp.maildev:25
      smtp_from: monitoring-from@example.com
      smtp_hello: alertmanager
      smtp_require_tls: false
      resolve_timeout: 10s

    route:
      group_by:
        - alertname
        - service
      group_wait: 15s
      group_interval: 30s
      repeat_interval: 1m
      receiver: mails
      routes:
        - receiver: "mails"
          continue: true

    receivers:
      - name: "mails"
        email_configs:
          - to: monitoring-to@example.com
            send_resolved: true
            tls_config:
              insecure_skip_verify: true

# Disable Scrapping of Kubernetes Components
kubeApiServer:
  enabled: false

kubelet:
  enabled: false

kubeControllerManager:
  enabled: false

coreDns:
  enabled: false

kubeDns:
  enabled: false

kubeEtcd:
  enabled: false

kubeScheduler:
  enabled: false

kubeProxy:
  enabled: false

kubeStateMetrics:
  enabled: false

nodeExporter:
  enabled: false

# Deploy CRDs manually
prometheusOperator:
  createCustomResource: false
